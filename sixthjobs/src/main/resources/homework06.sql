CREATE TABLE `t_user` (`f_user_id` int NOT NULL AUTO_INCREMENT,`f_nackname` char(40) NOT NULL,`f_passwd` char(20) NOT NULL,`f_realname` varchar(255) NOT NULL,`f_temphone` char(15) NOT NULL,`f_email` char(50) NULL,`f_idno` varchar(18) NOT NULL,`f_birthday` datetime NOT NULL,`f_create_at` datetime NULL DEFAULT CURRENT_TIMESTAMP,`f_update_at` datetime NULL DEFAULT current_timestamp on update current_timestamp,`f_status` tinyint NULL DEFAULT 1 COMMENT ' 0:账号不可用  1:账号可用  2:账号冻结',PRIMARY KEY (`f_user_id`) )engine=innodb default charset=utf8mb4 comment '用户信息';CREATE TABLE `t_order` (`f_order_id` int NOT NULL,`f_user_id` int NULL,`f_create_at` datetime NULL DEFAULT CURRENT_TIMESTAMP,`f_total_value` decimal NULL COMMENT '该订单总额度',`f_address` varchar(255) NULL COMMENT '订单地址',`f_status` tinyint NULL DEFAULT 1 COMMENT '订单状态: 0:不可用  1:未支付  2:已支付 3:已发货 4:已到达 5:已签收',PRIMARY KEY (`f_order_id`) )engine=innodb default charset=utf8mb4 COMMENT '订单信息';CREATE TABLE `t_goods` (`f_goods_id` int NOT NULL AUTO_INCREMENT,`f_name` varchar(100) NULL,`f_price` decimal NULL,`f_count` bigint NULL COMMENT '商品数量',`f_production_date` datetime NOT NULL COMMENT '生产日期',`f_expiration_date` datetime NOT NULL COMMENT '有效期',`f_create_time` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '商品记录创建时间',`f_update_at` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '商品记录更新时间',`f_desc` varchar(255) NULL COMMENT '商品描述',`f_status` tinyint NULL DEFAULT 1 COMMENT '0:删除 1:可用',PRIMARY KEY (`f_goods_id`) )engine=innodb default charset=utf8mb4 COMMENT '商品信息';CREATE TABLE `t_cart` (`f_cart_id` int NOT NULL,`f_user_id` int NULL,`f_update_at` datetime NULL DEFAULT current_timestamp on update current_timestamp,`f_total_value` decimal NULL COMMENT '所有商品的价值',PRIMARY KEY (`f_cart_id`) )engine=innodb default charset=utf8mb4 COMMENT '购物车信息';CREATE TABLE `t_supplier` (`f_supplier_id` int NOT NULL,`f_name` char(50) NOT NULL,`f_address` varchar(128) NOT NULL,`f_create_at` datetime NULL DEFAULT CURRENT_TIMESTAMP,`f_status` tinyint NULL DEFAULT 1 COMMENT '0:删除 1:可用',PRIMARY KEY (`f_supplier_id`) )engine=innodb default charset=utf8mb4 COMMENT '供应商信息';CREATE TABLE `t_login_log` (`f_user_id` int NOT NULL,`f_login_time` datetime NULL DEFAULT CURRENT_TIMESTAMP,`login_ip` char(15) NULL)engine=innodb default charset=utf8mb4 COMMENT '用户登录信息';CREATE TABLE `t_order_goods` (`f_order_id` int NOT NULL,`f_goods__id` int NOT NULL,`f_goods_count` int NOT NULL COMMENT '订单对应商品数量',`f_goods_price` decimal NOT NULL COMMENT '商品价格',`f_status` tinyint NULL DEFAULT 1 COMMENT '订单商品状态  0:删除  1:可用',PRIMARY KEY (`f_order_id`, `f_goods__id`) )engine=innodb default charset=utf8mb4 COMMENT '订单中商品信息';CREATE TABLE `t_goods_supplier` (`f_goods_id` int NOT NULL,`f_supplier_id` int NOT NULL,`f_create_at` datetime NULL DEFAULT CURRENT_TIMESTAMP,`f_status` tinyint NULL DEFAULT 1 COMMENT '0:删除   1:可用  ',PRIMARY KEY (`f_goods_id`, `f_supplier_id`) )engine=innodb default charset=utf8mb4 COMMENT '供应商-商品链接信息';CREATE TABLE `t_cart_goods` (`f_card_id` int NOT NULL,`f_goods_id` int NOT NULL,`f_goods_count` int NOT NULL,`f_create_at` datetime NULL DEFAULT CURRENT_TIMESTAMP,`f_update_at` datetime NULL DEFAULT current_timestamp on update current_timestamp,`f_status` tinyint NULL DEFAULT 1 COMMENT '0:删除   1:刚放入购物车  2: 从购物车中删除  3: 结算转变为订单',PRIMARY KEY (`f_card_id`, `f_goods_id`) )engine=innodb default charset=utf8mb4 COMMENT '购物车中商品信息';CREATE TABLE `t_supplier_all_goods` (`f_good_id` int NOT NULL,`f_supplier_id` int NOT NULL,`f_count` bigint NOT NULL COMMENT '该批次产品总数量',`f_num` int NOT NULL COMMENT '产品批次',`f_price` decimal NOT NULL COMMENT '该批次的价格',`f_create_at` datetime NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',`f_status` tinyint NULL DEFAULT 1 COMMENT '0:已删除  1:在使用',PRIMARY KEY (`f_good_id`, `f_supplier_id`) )engine=innodb default charset=utf8mb4 COMMENT '供应商提供的所有批次的商品';-- ALTER TABLE `t_order` ADD CONSTRAINT `fk_t_order_t_order_goods_1` FOREIGN KEY (`f_order_id`) REFERENCES `t_order_goods` (`f_order_id`);-- -- ALTER TABLE `t_order_goods` ADD CONSTRAINT `fk_t_order_goods_t_goods_1` FOREIGN KEY (`f_order_id`) REFERENCES `t_goods` (`f_goods_id`);-- -- ALTER TABLE `t_goods_supplier` ADD CONSTRAINT `fk_t_goods_supplier_t_goods_1` FOREIGN KEY (`f_goods_id`) REFERENCES `t_goods` (`f_goods_id`);-- -- ALTER TABLE `t_goods_supplier` ADD CONSTRAINT `fk_t_goods_supplier_t_supplier_1` FOREIGN KEY (`f_supplier_id`) REFERENCES `t_supplier` (`f_supplier_id`);-- -- ALTER TABLE `t_cart` ADD CONSTRAINT `fk_t_cart_t_cart_goods_1` FOREIGN KEY (`f_cart_id`) REFERENCES `t_cart_goods` (`f_card_id`);-- -- ALTER TABLE `t_cart_goods` ADD CONSTRAINT `fk_t_cart_goods_t_goods_1` FOREIGN KEY (`f_goods_id`) REFERENCES `t_goods` (`f_goods_id`);-- -- ALTER TABLE `t_login_log` ADD CONSTRAINT `fk_t_login_log_t_user_1` FOREIGN KEY (`f_user_id`) REFERENCES `t_user` (`f_user_id`);-- -- ALTER TABLE `t_user` ADD CONSTRAINT `fk_t_user_t_order_1` FOREIGN KEY (`f_user_id`) REFERENCES `t_order` (`f_user_id`);-- -- ALTER TABLE `t_user` ADD CONSTRAINT `fk_t_user_t_cart_1` FOREIGN KEY (`f_user_id`) REFERENCES `t_cart` (`f_user_id`);-- -- ALTER TABLE `t_supplier_all_goods` ADD CONSTRAINT `fk_t_supplier_all_goods_t_supplier_1` FOREIGN KEY (`f_supplier_id`) REFERENCES `t_supplier` (`f_supplier_id`);